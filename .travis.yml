sudo: required
services:
- docker
script:
- export BRANCH=$(if [ "$TRAVIS_PULL_REQUEST" == "false" ]; then echo $TRAVIS_BRANCH; else echo $TRAVIS_PULL_REQUEST_BRANCH; fi)
- docker run -t -d -v $(pwd):/code:rw --name frc-testing-image team5499/frc-testing-image; docker exec frc-testing-image /code/gradlew -p /code test jacocoTestReport
after_success:
- echo "$BRANCH"; if [ "$BRANCH" == "changeMavenDeployToAWS" ]; then docker exec frc-testing-image /code/gradlew -p /code publishToTeamRepo --username=$USERNAME --password=$PASSWORD --url=$URL; fi
- bash <(curl -s https://codecov.io/bash)
env:
  global:
  - secure: i11zToxl8eKnEHrMyrL17VAk38Mv4o1YAky5b2hg03eSX5qD5q+oFlnCi3WpK8oro0LAinESlTCgIETbnv3qM79RVC+FkfgrUKEitUPvTFS1zkRUlT+dgco3sD7fYZX7IOQ25T3uFIc1F4aXkIGSor/E+5pZU0wmTH0vFoTeyuX9Oo4zGOQi3UmccE3hkzkoKVIhyU+RLUp6aCylMnuLiMbUNDijMNhYqU5Zm+/gN9qmZiHJsst7Vkc+oobnpbdOmZoDNaw53a1D3y0+jlwriQe4Bk/lKMxbWWungpO6KIcV0JLiv/lDmMYX/tnL4xPq6/EecoDNLDWNWNVWcyYjgOpafdjEJ6h/mzvJxUv27bXM57FGzBXA+fy2PT4+tQvkimDeb3Y+YTbohs26cpImRCP148colyjy8aQPWW4BkQieiSZDSEmfhNyDXLXxRfBRx5jj0zSkUtVClabHrFzsJ4lZOqaucRLNKWs7VF0PxE8vFNQHliUhyXZkwrob8xB+lrB0ekI1rrDkCIxzdf5J+r+2bpUuXqv4SiNNVWBgasc7d+ye6UV9el2u6ItRhhVHItFPhnYYFTv3QtZ44mSbjlCU2dRkSPR71cd+Csn3edCjrOwHPd35GgIGrHnIv7/NQetvqtMdfg/+6WMzt3WPkzLgMTEOJY0t1TVvitNV3YA=
  - secure: wXy6aDSe9nfd1KjnBBzBG5X4PTIhpVStdvEs5Y/vA8zEWuszf4P2YDzIjf0lKL+K/Ed9GLeaKFdXac1i9VG3mChOxVWQ3kd5Mp5mNm/3iGEQ3OHJ43q9uKJTsSZOuuTHBHfJmLUwxk3Dnz7on3XU0XZKODuIxY0iqEIZ0RFcryIo0VE5glDfAvoqJRkbs56ruBMcZfh3Xx9NdebQN9rglT3w/WEeb7TLgECKkF5ic8wB4YEpEvJm1UvlqtT8TZjpsgmSUxbagTAyy9dIXHAIaksXNHaRBhgs7D0a4xlf6MExp2sp75qBK/5lGqGG+RR8PcYlisw+nH/vnP1AQm3ujP5rL4vkCoLFk4+DVMlnScpiBDI482UM581YnCOlotXF2Oh34QEMVn0SQ0w6yNghLhMhlVk1EDjy/msttvAEef15Xm3f5njIQuzDljvigWRTAPE81peDY6EAXQAsNE3C29N6XLMVFgiefI5NF+PZ+Tu0geYOhP1r3GBixj6W+w3NfC/ZwzapVoA+6OimhYDNOETVLrrIkln4FtU+/RrCtqk1zZhLg22JkxHCNU5NuIiwC8sQcd+hquw63tZVc9vFXFdcVLJZLa/mgtFWUfVKOIQSjua18H4VqZAUP2p9EPcMYJgHRDh2P47R9zFdRdnD7CdNel8uWtdT4P4UFTytnuk=
  - secure: Yt8eHJCCvK7sBx/r0XGFiD0We9uY6a1Jft4oK7jU0X3H2Pm7guMTUGGwdEum9GCgJM6Wv4jCyGDWy2qR+eiJBHR3Vl3Yii8BqQ+yOKkIm6nt00b1yjWV93JfyLlNMVjKnp4i9kMGQVH4Ey72G+5n7VWNInWHGuLmGRawyvwBNUBReEDMcKP364dYRvik6SaDNn1/1nYCJRD17E8wihOiXq1O3Svub9jxL/D/g5RDdNHegCurs3R527KPzHsCqMxxZhxnsMF7jDcM2JPHTAZ4S3e+kcQRGreLkC9G2nsjy5SEomrbAkyu6mK/7MBcq5l9bADQC7dJS9U/nJlPTXJM4lfZvevnEuseXClI+1+Vo5wUNzXDlliAjw4+BTKOWfCshuNnGM5i5DvFJISy8zSzMXGYvwdoB5kt8jqhEf4y/eG/nVQXrvieqMSPjl3FM2nl7xJIk2C0uvN/N5y633xNCXcMcI8MIpidyW2iULe/LPKT21670x90Rm2MJpxhXGvvhI9IYJ+RL+aKsIEcIOV+54SfclRa3aK/LF5HV7higYqsxn5gDMApl1m7wBXeUBtciGXcfkRwA2RhbRkvbRCM/YnInjqUUCZOx4tSiKrVoU+8IMPvxGVjvaajnmvm8hKvhPP/LqVyM9kjoNOZqQePcglOX42oaM1wbxivpGH2FYE=
