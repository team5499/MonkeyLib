sudo: required
services:
- docker
script:
- export BRANCH=$(if [ "$TRAVIS_PULL_REQUEST" == "false" ]; then echo $TRAVIS_BRANCH; else echo $TRAVIS_PULL_REQUEST_BRANCH; fi)
- docker run -t -d -v $(pwd):/code:rw --name frc-testing-image team5499/frc-testing-image; docker exec frc-testing-image /code/gradlew -p /code test jacocoTestReport
after_success:
- echo "$BRANCH"; if [ "$BRANCH" == "changeMavenDeployToAWS" ]; then docker exec frc-testing-image /code/gradlew -p /code publishToTeamRepo --username=$USERNAME --password=$PASSWORD --url=$URL; fi
- bash <(curl -s https://codecov.io/bash)
env:
  global:
  - secure: i11zToxl8eKnEHrMyrL17VAk38Mv4o1YAky5b2hg03eSX5qD5q+oFlnCi3WpK8oro0LAinESlTCgIETbnv3qM79RVC+FkfgrUKEitUPvTFS1zkRUlT+dgco3sD7fYZX7IOQ25T3uFIc1F4aXkIGSor/E+5pZU0wmTH0vFoTeyuX9Oo4zGOQi3UmccE3hkzkoKVIhyU+RLUp6aCylMnuLiMbUNDijMNhYqU5Zm+/gN9qmZiHJsst7Vkc+oobnpbdOmZoDNaw53a1D3y0+jlwriQe4Bk/lKMxbWWungpO6KIcV0JLiv/lDmMYX/tnL4xPq6/EecoDNLDWNWNVWcyYjgOpafdjEJ6h/mzvJxUv27bXM57FGzBXA+fy2PT4+tQvkimDeb3Y+YTbohs26cpImRCP148colyjy8aQPWW4BkQieiSZDSEmfhNyDXLXxRfBRx5jj0zSkUtVClabHrFzsJ4lZOqaucRLNKWs7VF0PxE8vFNQHliUhyXZkwrob8xB+lrB0ekI1rrDkCIxzdf5J+r+2bpUuXqv4SiNNVWBgasc7d+ye6UV9el2u6ItRhhVHItFPhnYYFTv3QtZ44mSbjlCU2dRkSPR71cd+Csn3edCjrOwHPd35GgIGrHnIv7/NQetvqtMdfg/+6WMzt3WPkzLgMTEOJY0t1TVvitNV3YA=
  - secure: wXy6aDSe9nfd1KjnBBzBG5X4PTIhpVStdvEs5Y/vA8zEWuszf4P2YDzIjf0lKL+K/Ed9GLeaKFdXac1i9VG3mChOxVWQ3kd5Mp5mNm/3iGEQ3OHJ43q9uKJTsSZOuuTHBHfJmLUwxk3Dnz7on3XU0XZKODuIxY0iqEIZ0RFcryIo0VE5glDfAvoqJRkbs56ruBMcZfh3Xx9NdebQN9rglT3w/WEeb7TLgECKkF5ic8wB4YEpEvJm1UvlqtT8TZjpsgmSUxbagTAyy9dIXHAIaksXNHaRBhgs7D0a4xlf6MExp2sp75qBK/5lGqGG+RR8PcYlisw+nH/vnP1AQm3ujP5rL4vkCoLFk4+DVMlnScpiBDI482UM581YnCOlotXF2Oh34QEMVn0SQ0w6yNghLhMhlVk1EDjy/msttvAEef15Xm3f5njIQuzDljvigWRTAPE81peDY6EAXQAsNE3C29N6XLMVFgiefI5NF+PZ+Tu0geYOhP1r3GBixj6W+w3NfC/ZwzapVoA+6OimhYDNOETVLrrIkln4FtU+/RrCtqk1zZhLg22JkxHCNU5NuIiwC8sQcd+hquw63tZVc9vFXFdcVLJZLa/mgtFWUfVKOIQSjua18H4VqZAUP2p9EPcMYJgHRDh2P47R9zFdRdnD7CdNel8uWtdT4P4UFTytnuk=
  - secure: TLGUOcDgKS/Kzh2ExepFbPZ6As7mBqU+KIGRtZGQWMBTXHQQRBmFnJLV2VmDQ9PPw8fH6qpLbwIkIk0gAbzNk+QGJJ+GltFuFUZT7Uar9d/pWHlxx/JrAyoVZJxl06Rl3ZnYt+8HDAmSPqevkC2cGFD6vod8diPXxkw2TIM2i3C8nS/dkqG4fjexbqXb9onJLsj3cc/2Ss7Xiu7rBjfoAF0hoByRh+4KcigleOuMPa1mvVm9ZjoyeuXpQ+sfUim9+QqHwHMozmnmA3G/W3jXtF90qZ5wvn8tuHZLvoIueGQq/E9z0BWZ2ZAcmwNCc/di3V2fDc+ha8tfIqB6A3l81YruT3x0vHStyFi9FRSiU9POizgKB9sDcUXqm6+SLMCF5ZLcyDGtJXuvd16Ow38dSigjKlN9uucSVgFhZglwSE4MeiGDveMmvxxBozpxw6chQioglO9ArUWynOx63kxfg4bO0CzG8sUBRsBeCxOk+Tubhx8UuYyVj+Ctcqq+i5b4qPm8PpU5gSVNebEoqlLIrP+b5ramlZdF/57yi3BjtfuoWmjOFhui6gSFkXO6hbW3JBJg1YbQZ8kno0OP7u/xrc5iU58bmhGa5ro+FBIRJ9CO54Uivp1qgqBcKWQztVOc1LLg7RAJ0Pw/J5R2w2+RSVGBy+OCNYnY/dJk1xeyyks=
